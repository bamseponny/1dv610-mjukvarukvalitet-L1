# Reflektion

För ett år sedan var jag helt grön när det kom till programmering, och under första året låg i princip allt fokus på att få koden att fungera, medan det var mindre viktigt hur den såg ut. Det här nya perspektivet är därför välkommet. Nu handlar det också om att göra så att koden blir ren och tydlig för användare som kommer efter mig. Hur lyckas man med det?

Clean Code är definitivt en god ledsagare. Den får en att tänka till lite extra på saker man hittills bara gjort: klasser är substantiv, medan metoder utgår från verb. När dessa blir tydliga regler är det svårare att vika av från dem. Likväl är det viktigt att hålla en röd tråd, och namnge därefter. Matematiska metoder inleder jag exempelvis med prefixet "calculate".

En del saker i boken utmanade lite mer. Clean Code är tydlig med att metoder ska göra en enda sak. Punkt. Jag tänkte tvärtom att större metoder fick ha hand om ett brett koncept. Tyckte det blev tydligare och mindre plottrigt, än vad som skulle varit fallet med många mindre metoder. Samtidigt förstår jag bokens poäng: tydlighet. Att bryta ut gör också att enkla metoder som gör en enda sak (och gör den bra) blir enklare att återanvända.

Jag håller inte med boken i alla avseenden, dock. Clean Code säger att switch-satser har en tendens att bli alldeles för stora – metoder ska ju vara små! 

> It’s hard to make a small switch statement. Even a switch statement with only two cases is larger than I’d like a single block or function to be. It’s also hard to make a switch statement that does one thing. By their nature, switch statements always do N things.

Jag tycker att boken har en poäng, men också att tydlighet är viktigt. Jag tror det behövs en balans mellan att vara kortfattad och tydlig. Har läst kod som varit så kort att jag inte förstått vad som händer. I mina fall tyckte jag Switch-satserna premierade tydlighet. Å andra sidan hade jag kunnat bryta ut dem till egna metoder då satserna gjorde att metoderna gjorde mer än en sak.

## Clean Code, kapitel 2: meningsfulla namn

| Namn, förklaring | Reflektion och regler från Clean Code |      
| ---------------- |:-------------------------------------:|
| **MyFavoriteThings** - klassnamn på bibliotekets huvudmodul. | - **Class Names** - Klassnamnet är ett substantiv. Det *är* något, och är alltså inte ett verb (som *gör* något.) - **Don't Be Cute** - Klassen delar bibliotekets namn, vilket är gjort för att vara "snärtigt", ja, till och med lite "säljigt". MyFavoriteThings är därmed inte perfekt ur Clean Codes avseende, men jag tycker trots allt det hittar balansen mellan fyndigt och informativt.
| **calculateAverage** - metod som räknar ut medelvärdet av siffrorna i en array. | - **Pick One Word per Concept** - Utöver denna metod finns ytterligare två som räknar ut olika saker (median, typvärde). Allesammans inleds med "calcultate", och därmed finns en röd tråd i det här konceptet. Det är lätt att se att de hör ihop.
| **listAllTitles** - metod som loopar igenom en array med objekt och listar alltsammans. | - **Avoid disinformation** - Clean Code ringar in listor, som har en tendens att nyttjas – trots att det inte handlar om listor! I mitt fall handlar det dock om just en lista, men titeln är trots detta något missvisande då man kan tro att det bara är titlarna som listar, när i själva verket titlarna samt dess olika egenskaper listas.
| **minimumGrade** - betygets minimivärde, som deklareras i modulens constructor. | - **Use Searchable Names** - Egenskapen minimumGrade (eller maximumGrade, för den delen) hade kunnat heta exempelvis "min" (eller "max"). Men! Med ett sådant namn hade det varit svårt att söka efter. Chansen (eller risken...) att det finns flertalet begrepp som börjar med "min..." är överhängande. 
| **validateArray** - Validerar om en array är en array, och om den innehåller siffror. | - **Method Names** - Liksom klasser är något som *är*, så är metoder något som *gör*. Samtliga av mina metoder gör saker, och har därmed verb i sig. Här "validerar" vi en array, vilket uttrycks klart och tydligt.
***

## Clean Code, kapitel 3: funktioner

| Metodnamn, förklaring | Reflektion och regler från Clean Code |      
| ---------------- |:-------------------------------------:|
| **filterByData** - Filtrerar beroende på två parametrar: datatyp, datavärde. | - **Small!** - Enligt Clean Code ska funktioner vara små. Den här metoden är definitivt inte liten i sitt sammanhang, med sina 50 kodrader. Hur liten ska den vara? Hur kort är ett snöre? Det är svårt att dra gränsen, men då den här metoden är längst av alla förtjänar den att tänkas igenom.
| **convertGrade** - konverterar betyg i annan skala till ett betyg som är bibliotekets standard. | - **Do One Thing** - Clean Code är tydlig: funktioner ska göra en sak, och bara en. Den här metoden omvandlar ett betyg från tre olika skalor till bibliotekets standard. Det sker alltså tre olika uträkningar, tre saker. En logisk lösning hade varit att bryta ut dessa tre uträkningar till egna metoder, som kallas på från convertGrade. - **Switch Statements** - Boken är även tydlig med att switch-satser överlag tar upp väl mycket plats. Min utgångspunkt var att de gjorde saker tydligare, men enligt Clean Code är utrymme en tyngre faktor. En lösning hade kunnat vara att dölja switch-satserna från användaren.
| **calculateMode** - räknar ut typvärdet hos en array. | - **Use Descriptive Names** - Funktionsnamn ska beskriva vad funktionen (eller metoden) gör. Att lägga ner – mycket! –  tid på namn lyfter Clean Code fram som en viktig faktor. Mitt exempel hette från början "getMode", men prefixet "calculate" blev mer konkret. Detta användes också i "calculateMedian" och "calculateAverage", också de matematiska metoder.
| **findTitles** - söker efter en eller flera titlar baserad på argument. | - **Function Arguments** - Clean Code ser helst att vi undviker argument över huvud taget, och om vi inte kan detta: minimerar. findTitles behöver ha ett argument, då man ska kunna söka efter titlar i databasen. Men! Argument är svåra när det kommer till testning, då vi måste ta höjd för alla slags inskickade datatyper. Det gör det komplicerat, milt uttryckt.
| **listAllTitles** - Listar alla titlar i databasen, med tillhörande egenskaper. | - **How Do You Write Functions Like This?** - Att det "fungerar" är givetvis A och O, men det kan enligt boken vara värt att skriva om sina funktioner; döpa om, strukturera, ta bort onödiga kontrollsatser. Exemplet har en sorteringsdel som serverar listan i bokstavsordning, och den gick jag igenom flera varv för att göra den så tydlig som möjligt. 